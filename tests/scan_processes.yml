---
- name: "Test scan_processes"
  hosts: "localhost"
  gather_facts: False
  become: False
  collections:
    - john_westcott_iv.ansible_fact

  tasks:
    - name: "Scan Processes - Show Everything"
      scan_processes:
        output_ps_stdout_lines: True

    - name: "Display Processes"
      debug:
        var: "running_processes"

    - name: "Collect only process standard out lines"
      scan_processes:
        output_ps_stdout_lines: True
        output_parsed_processes: False

    - name: "Display Processes - only stdout lines"
      debug:
        var: "running_processes"

    - name: "Collect only parsed process data"
      scan_processes:

    - name: "Display Parsed Processes only"
      debug:
        var: "running_processes"
